"use strict";

const axios = require("axios");
const services = require("./balance");

class transaction {
  constructor() {
    this.transaction = {};
    this.transaction.unit = "";
  }
  async getTransaction(callback) {
    const res = await axios.get(services.balance);
    const { result } = res.data;
    console.log(result);
    this.transaction.lastValue = res.data.result;

    if (this.transaction.unit == result) {
      return callback("nothing new");
    }
    callback(`
      Agora est√° na casa dos ${result[0].value}00:
      valor atual ${result[0].value}`);

    this.transaction.unit = result;
  }
}

module.exports = transaction;
